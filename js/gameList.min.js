function getElement(e){return document.getElementById(e)}function getTagsFromTable(e){const t=getElement(e),n=new Set;for(let e=1;e<t.rows.length;e++){const o=t.rows[e],r=o.cells[3],s=r.textContent.trim(),l=s.split(/\s*,\s*(?=[^"]*(?:[^"]*"[^"]*)*[^"]*$)/);l.forEach(e=>n.add(e.trim()))}return Array.from(n).sort()}function taggingSystem(e,t){const n=getElement(t),o=getElement("filterYearArea");for(const t of e){const e=document.createElement("span");e.classList.add("cbc");const r=document.createElement("input"),s=t.toLowerCase().replace(/\s+/g,"_");r.setAttribute("type","checkbox"),r.setAttribute("id",`cb-${s}`),r.setAttribute("value",t);const l=document.createElement("label");l.textContent=t,l.setAttribute("for",`lb-${s}`),e.appendChild(r),e.appendChild(l),isYear(t)?(l.classList.add("tagYear"),o.appendChild(e)):n.appendChild(e)}}function isYear(e){return!isNaN(parseInt(e))}function filterTable(e,t){const n=getElement(e),o=n.rows,r=Array.from(document.querySelectorAll(`${t} input[type='checkbox']:checked`)).map(e=>e.value);for(let e=1;e<o.length;e++){const t=o[e],n=t.cells[3],s=n.textContent.trim(),l=s.split(/,(?=(?:[^"]*"[^"]*")*(?![^"]*"))/);let a=!0;for(const e of r)if(!l.includes(e)){a=!1;break}t.style.display=a?"":"none"}}function sortTable(e,t){const n=getElement(t);let o=!0,r="asc",s=0;for(;o;){let t=!1;o=!1;let a=n.rows,c=a.length-1;for(var l=1;l<c;l++){const n=a[l].getElementsByTagName("td")[e].innerHTML.toLowerCase(),o=a[l+1].getElementsByTagName("td")[e].innerHTML.toLowerCase();if("asc"===r&&n.localeCompare(o)>0||"desc"===r&&n.localeCompare(o)<0){t=!0;break}}t?(a[l].parentNode.insertBefore(a[l+1],a[l]),o=!0,s++):0===s&&"asc"==r&&(r="desc",o=!0)}}function countTableRows(e,t){const n=getElement(e),o=n.rows.length-1,r=getElement(t);r.textContent=`(${o})`}